#:kivy 2.1.0
#:import Singleton_Perfil Modulos.Singleton.Perfil.Singleton_Perfil
#:import Factory kivy.factory.Factory

<Menu_Feria@Menu_Evento>:
Label:
    text: "¡SOY LA VERSIÓN FERIA!" 
    color: 1, 0, 0, 1  # Rojo brillante
    bold: True
    pos_hint: {'center_x': 0.5, 'center_y': 0.5}
    font_size: dp(30)


<Elemento_Evento@ButtonBehavior+BoxLayout>:
    orientation: 'vertical'
    titulo: "Evento de comidas"
    fecha: "01-01-2025"
    tiempo_restante: "15d"
    size_hint: (1,None)
    height: dp(60)
    canvas.before:
        Color:
            rgba:0,0,0,1
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [dp(10)]
        Color:
            rgba:1,1,1,1
        RoundedRectangle:
            pos: self.pos[0]+1,self.pos[1]+1
            size: self.size[0]-2,self.size[1]-2
            radius: [dp(10)]
    Label:
        text: root.titulo
        color: (0,0,0,1)
        size_hint: 1,0.6
        font_size: self.height*0.8
        walk: True
        shorten: True
        canvas.before:
            Color:
                rgba:0,0,0,1
            RoundedRectangle:
                pos: self.pos
                size: self.size
                radius: [dp(10)]
            Color:
                rgba:1,1,1,1
            RoundedRectangle:
                pos: self.pos[0]+1,self.pos[1]+1
                size: self.size[0]-2,self.size[1]-2
                radius: [dp(10)]
    BoxLayout:
        orientation: 'horizontal'
        size_hint: (1,0.4)
        padding: dp(3),dp(0),dp(3),dp(0)
        Label:
            text: root.fecha
            color: (0,0,0,1)
            size_hint: (0.8,1)
            font_size: self.height*0.8
            canvas.before:
                Color:
                    rgba:0,0,0,1
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [dp(10)]
                Color:
                    rgba:1,1,1,1
                RoundedRectangle:
                    pos: self.pos[0]+1,self.pos[1]+1
                    size: self.size[0]-2,self.size[1]-2
                    radius: [dp(10)]
        Label:
            text: root.tiempo_restante
            color: (0,0,0,1)
            size_hint: (0.2,1)
            font_size: self.height*0.8
            canvas.before:
                Color:
                    rgba:0,0,0,1
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [dp(10)]
                Color:
                    rgba:1,1,1,1
                RoundedRectangle:
                    pos: self.pos[0]+1,self.pos[1]+1
                    size: self.size[0]-2,self.size[1]-2
                    radius: [dp(10)]
    

<Layout_EventosFavoritos>:
    orientation: 'vertical'
    size_hint: (1,1)

    canvas.before:
        Color:
            rgba:1,1,1,1
        Rectangle:
            size:self.size
            pos:self.pos
    BoxLayout:
        orientation: 'horizontal'
        size_hint: (1,None)
        height: dp(50)
        Button:
            text: 'Atras'
            size_hint: (0.2,1)
            on_release: root.Regresar_MenuPrincipal(Singleton_Perfil.get_instance().tipo_perfil) if Singleton_Perfil.get_instance().tipo_perfil else Abrir_Login()
        Label:
            text: 'Eventos Favoritos'
            color:0,0,0,1
            font_size: self.height*0.4
            size_hint: (0.8,1)
    BoxLayout:
        size_hint: (1,None)
        height: dp(50)
        TextInput:
            hint_text: "Buscar Evento"
            size_hint: (1,1)

    BoxLayout:
        size_hint: (1,1)
        padding: dp(3)
        canvas.before:
            Color:
                rgba: 1,0.9,0.9,1
            Rectangle:
                size:self.size
                pos:self.pos
        ScrollView:
            do_scroll_x: False
            do_scroll_y: True
            scroll_y: 1
            size_hint: (1,1)
            BoxLayout:
                id: listado_menu_evento
                orientation: 'vertical'
                size_hint: (1,None)
                height: self.minimum_height
                spacing: dp(5)
                #Los elementos que cvontienen los eventos que aqui se puede modificar para agregar mas eventos 
                Elemento_Evento: 
                    id:Evento_primero
                    titulo: "Evento de Comida"
                    height: dp(65)
                    on_release: Factory.Menu_Evento_Sushi(titulo=self.titulo).open()
                Elemento_Evento:
                    id:Evento_segundo
                    titulo: "Evento de Tecnología"
                    height: dp(65)
                    on_release: Factory.Menu_Evento_Feria(titulo=self.titulo).open()
                Elemento_Evento:
                    id:Evento_tercero
                    titulo: "Evento de Rock"
                    height: dp(65)
                    on_release: Factory.Menu_Evento_Rock(titulo=self.titulo).open()
                Elemento_Evento:
                    id:Evento_cuarto
                    titulo: "Evento de Futbol" # titulo para ponerle al elemento 
                    height: dp(65) # Tamaño del elemento
                    on_release: Factory.Menu_Evento_Fut(titulo=self.titulo).open() # Referencia al menu que se utilizara en el .kv
                Elemento_Evento:
                    id:Evento_quinto
                    titulo: "Evento Social" # titulo para ponerle al elemento
                    height: dp(65)
                    on_release: Factory.Menu_Evento_Social(titulo=self.titulo).open()
                Elemento_Evento:
                    id:Evento_sexto
                    titulo: "Evento de Literatura"
                    height: dp(65)
                    on_release: Factory.Menu_Evento_Lit(titulo=self.titulo).open()                    




